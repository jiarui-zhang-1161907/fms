{% extends "base.html" %}

{% block title %}FMS - Stock List{% endblock %}

{% block content %}
    <div class="container mt-4">
        <!-- Loop through each mob to display its stock list -->
        {% for mob in mobs %}
            <div class="card mb-4">
                <div class="card-header">
                    <!-- Display mob name and current paddock -->
                    <h3 class="card-title">{{ mob.name }} - {{ mob.paddock }}</h3>
                    <!-- Display number of stock and average weight -->
                    <p class="card-text"># Stock: {{ mob.num_stock }} | Avg Weight: {{ mob.avg_weight }}</p>
                </div>
                <div class="card-body">
                    <!-- Table to list individual animals within the mob -->
                    <table class="table table-striped table-bordered">
                        <thead>
                            <tr>
                                <!-- Table headers -->
                                <th scope="col">ID</th>
                                <th scope="col">Age (Years)</th>
                                <th scope="col">DOB</th>
                                <th scope="col">Weight</th>
                                <th scope="col">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Loop through each animal within the mob -->
                            {% for animal in mob.animals %}
                                <tr>
                                    <!-- Display animal ID -->
                                    <td>{{ animal.id }}</td>
                                    <!-- Display animal age in years -->
                                    <td>{{ animal.age }}</td>
                                    <!-- Display animal date of birth -->
                                    <td>{{ animal.dob }}</td>
                                    <!-- Display animal weight -->
                                    <td>{{ animal.weight }}</td>
                                    <!-- Link to edit the animal -->
                                    <td>
                                        <a href="{{ url_for('edit_animal', animal_id=animal.id) }}" class="btn btn-sm btn-primary">Edit</a>
                                    </td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}